{
    "sourceFile": "README.md",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1753096914340,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1753096914340,
            "name": "Commit-0",
            "content": "\n# ğŸ“± Lys&Co App\n\nApplication mobile React Native (Expo) connectÃ©e Ã  Supabase.\n\nElle permet aux utilisateurs :\nâœ… de se connecter / sâ€™inscrire,  \nâœ… de gÃ©rer leur profil,  \nâœ… de consulter leurs documents, rÃ©servations, abonnements, factures,  \nâœ… de supprimer leur compte,  \nâœ… et aux admins de consulter certaines donnÃ©es.\n\n---\n\n## ğŸš€ Stack technique\n\n- **Frontend** : React Native (Expo)  \n- **Backend** : Supabase (PostgreSQL, Auth, RLS, Storage)  \n- **Paiement** : Stripe (via backend Node.js)  \n- **SÃ©curitÃ©** : RLS activÃ©, policies spÃ©cifiques\n\n---\n\n## âš™ï¸ Configuration\n\n1ï¸âƒ£ Variables dâ€™environnement (`.env` ou Expo config)\n\n```\nEXPO_PUBLIC_APP_URL=https://ton-app-frontend.com\nSUPABASE_URL=https://xxxx.supabase.co\nSUPABASE_PUBLIC_ANON_KEY=...\nBACKEND_NODE_URL=https://ton-backend-node.vercel.app\n```\n\n2ï¸âƒ£ Supabase (table `profiles`) policies Ã  activer :\n\n- âœ… SELECT : Users can view own profile â†’ `auth.uid() = id`\n- âœ… INSERT : Users can insert own profile â†’ `auth.uid() = id` *(ou plus simple : `true` mais âš  sÃ©curitÃ© en prod)*\n- âœ… UPDATE : Users can update own profile â†’ `auth.uid() = id`\n\n---\n\n## ğŸ”‘ FonctionnalitÃ©s principales\n\n- **Authentification** : email + mot de passe (via Supabase)\n- **Dashboard utilisateur** :\n  - Affiche nom, email, tÃ©lÃ©phone, entreprise\n  - Modification du profil\n  - Suppression dÃ©finitive du compte\n- **Documents utilisateurs**\n- **RÃ©servations de salles**\n- **Abonnements Stripe**\n- **Factures Stripe**\n- **Portail Stripe pour gestion des abonnements**\n\n---\n\n## ğŸ“‚ Arborescence clÃ©\n\n```\n/src\n  /components\n    /dashboard â†’ composants du tableau de bord\n    /ui â†’ composants UI rÃ©utilisables\n  /hooks\n    useUserData.tsx â†’ gestion des donnÃ©es utilisateur\n  /integrations\n    supabase â†’ client Supabase\n  /navigation\n    types.ts â†’ types navigation React Navigation\n```\n\n---\n\n## âš ï¸ Notes importantes\n\n- Les policies `WITH CHECK (true)` permettent Ã  tous les `authenticated` dâ€™insÃ©rer â†’ idÃ©al en dev, mais en prod sÃ©curiser avec :\n  \n  ```sql\n  WITH CHECK (auth.uid() = id)\n  ```\n\n- Tester `select auth.uid();` sur Supabase SQL Editor pour sâ€™assurer que le token est bien passÃ©.\n\n- Si `auth.uid()` retourne `null` â†’ vÃ©rifier :\n  - token cÃ´tÃ© client,\n  - headers envoyÃ©s,\n  - configuration du Supabase client (ex. `persistSession` et `storage` pour React Native).\n\n---\n\n## ğŸ’¬ Commandes utiles\n\n```bash\n# Lancer Expo\nnpx expo start\n\n# GÃ©nÃ©rer une build Android\neas build --platform android\n\n# GÃ©nÃ©rer une build iOS\neas build --platform ios\n\n# Lancer le backend Node local\nnpm run dev\n```\n"
        }
    ]
}