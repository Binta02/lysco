{
    "sourceFile": "app/(tabs)/ResetPassword.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1752949324150,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753019758039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,5 @@\n import Footer from \"@/src/components/Footer\";\r\n-import Navbar from \"@/src/components/Navbar\";\r\n import { supabase } from \"@/src/integrations/supabase/client\";\r\n import { MaterialCommunityIcons } from \"@expo/vector-icons\";\r\n import { useRouter } from \"expo-router\";\r\n import React, { useState } from \"react\";\r\n@@ -47,9 +46,8 @@\n   };\r\n \r\n   return (\r\n     <View style={{ flex: 1, backgroundColor: \"#f9fafb\" }}>\r\n-      <Navbar session={null} onToggleMenu={() => {}} />\r\n       <ScrollView contentContainerStyle={styles.container}>\r\n         <View style={styles.card}>\r\n           <Text style={styles.title}>Réinitialisation du mot de passe</Text>\r\n           <Text style={styles.subtitle}>Entrez votre nouveau mot de passe</Text>\r\n"
                }
            ],
            "date": 1752949324150,
            "name": "Commit-0",
            "content": "import Footer from \"@/src/components/Footer\";\r\nimport Navbar from \"@/src/components/Navbar\";\r\nimport { supabase } from \"@/src/integrations/supabase/client\";\r\nimport { MaterialCommunityIcons } from \"@expo/vector-icons\";\r\nimport { useRouter } from \"expo-router\";\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  Alert,\r\n  ScrollView,\r\n  StyleSheet,\r\n  Text,\r\n  TextInput,\r\n  TouchableOpacity,\r\n  View,\r\n} from \"react-native\";\r\n\r\nconst ResetPassword = () => {\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const handleResetPassword = async () => {\r\n    if (newPassword.length < 8) {\r\n      Alert.alert(\r\n        \"Erreur\",\r\n        \"Le mot de passe doit contenir au moins 8 caractères.\"\r\n      );\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const { error } = await supabase.auth.updateUser({\r\n        password: newPassword,\r\n      });\r\n\r\n      if (error) {\r\n        Alert.alert(\"Erreur\", error.message);\r\n        return;\r\n      }\r\n\r\n      Alert.alert(\"Succès\", \"Votre mot de passe a été modifié avec succès.\");\r\n      router.push(\"/(tabs)/Login\");\r\n    } catch (error) {\r\n      console.error(\"Password update error:\", error);\r\n      Alert.alert(\"Erreur\", \"Une erreur inattendue est survenue.\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <View style={{ flex: 1, backgroundColor: \"#f9fafb\" }}>\r\n      <Navbar session={null} onToggleMenu={() => {}} />\r\n      <ScrollView contentContainerStyle={styles.container}>\r\n        <View style={styles.card}>\r\n          <Text style={styles.title}>Réinitialisation du mot de passe</Text>\r\n          <Text style={styles.subtitle}>Entrez votre nouveau mot de passe</Text>\r\n\r\n          <View style={styles.inputContainer}>\r\n            <MaterialCommunityIcons\r\n              name=\"lock-outline\"\r\n              size={20}\r\n              color=\"#9ca3af\"\r\n              style={styles.icon}\r\n            />\r\n            <TextInput\r\n              style={styles.input}\r\n              placeholder=\"Nouveau mot de passe\"\r\n              secureTextEntry={!showPassword}\r\n              value={newPassword}\r\n              onChangeText={setNewPassword}\r\n            />\r\n            <TouchableOpacity\r\n              onPress={() => setShowPassword(!showPassword)}\r\n              style={styles.iconRight}\r\n            >\r\n              <MaterialCommunityIcons\r\n                name={showPassword ? \"eye-off-outline\" : \"eye-outline\"}\r\n                size={20}\r\n                color=\"#9ca3af\"\r\n              />\r\n            </TouchableOpacity>\r\n          </View>\r\n          <Text style={styles.hintText}>\r\n            Le mot de passe doit contenir au moins 8 caractères.\r\n          </Text>\r\n\r\n          <TouchableOpacity style={styles.button} onPress={handleResetPassword}>\r\n            <Text style={styles.buttonText}>Réinitialiser le mot de passe</Text>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </ScrollView>\r\n      <Footer />\r\n    </View>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flexGrow: 1,\r\n    justifyContent: \"center\",\r\n    padding: 20,\r\n  },\r\n  card: {\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 12,\r\n    padding: 20,\r\n    shadowColor: \"#000\",\r\n    shadowOpacity: 0.1,\r\n    shadowOffset: { width: 0, height: 2 },\r\n    elevation: 3,\r\n  },\r\n  title: {\r\n    fontSize: 22,\r\n    fontWeight: \"bold\",\r\n    textAlign: \"center\",\r\n    marginBottom: 8,\r\n    color: \"#0f172a\",\r\n  },\r\n  subtitle: {\r\n    textAlign: \"center\",\r\n    fontSize: 14,\r\n    color: \"#6b7280\",\r\n    marginBottom: 20,\r\n  },\r\n  inputContainer: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n    borderColor: \"#d1d5db\",\r\n    borderWidth: 1,\r\n    borderRadius: 8,\r\n    marginBottom: 12,\r\n    paddingHorizontal: 8,\r\n  },\r\n  input: {\r\n    flex: 1,\r\n    height: 44,\r\n    fontSize: 14,\r\n    paddingHorizontal: 8,\r\n  },\r\n  icon: {\r\n    marginRight: 4,\r\n  },\r\n  iconRight: {\r\n    padding: 4,\r\n  },\r\n  hintText: {\r\n    fontSize: 12,\r\n    color: \"#6b7280\",\r\n    marginBottom: 20,\r\n  },\r\n  button: {\r\n    backgroundColor: \"#5cb9bc\",\r\n    paddingVertical: 12,\r\n    borderRadius: 8,\r\n    alignItems: \"center\",\r\n  },\r\n  buttonText: {\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n"
        }
    ]
}