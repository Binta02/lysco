{
    "sourceFile": "src/components/cart/CartDrawer.tsx",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 1,
            "patches": [
                {
                    "date": 1753097598057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1753097926732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,11 +1,15 @@\n-import { useCart } from \"@/components/cart/CartContext\";\r\n+import { useCart } from \"@/src/components/cart/CartContext\";\r\n import { useRouter } from \"expo-router\";\r\n import React from \"react\";\r\n import { ScrollView, StyleSheet, Text, TouchableOpacity, View } from \"react-native\";\r\n-import Feather from \"react-native-vector-icons/Feather\";\r\n+import { Feather } from \"@expo/vector-icons\";\r\n \r\n-export function CartDrawer({ onCheckout }) {\r\n+type CartDrawerProps = {\r\n+  onCheckout?: () => void;\r\n+};\r\n+\r\n+export function CartDrawer({ onCheckout }: CartDrawerProps) {\r\n   const { items, removeItem, updateQuantity, total, subtotal, tax } = useCart();\r\n   const router = useRouter();\r\n \r\n   return (\r\n@@ -66,9 +70,9 @@\n             <TouchableOpacity\r\n               style={styles.checkoutButton}\r\n               onPress={() => {\r\n                 onCheckout && onCheckout();\r\n-                router.push(\"/checkout\");\r\n+                router.push(\"/(tabs)/Checkout\");\r\n               }}\r\n             >\r\n               <Text style={styles.checkoutText}>Passer la commande</Text>\r\n             </TouchableOpacity>\r\n"
                }
            ],
            "date": 1753097598055,
            "name": "Commit-0",
            "content": "import React from \"react\";\r\nimport { View, Text, ScrollView, TouchableOpacity, StyleSheet } from \"react-native\";\r\nimport Feather from \"react-native-vector-icons/Feather\";\r\nimport { useCart } from \"@/components/cart/CartContext\";\r\nimport { useRouter } from \"expo-router\";\r\n\r\nexport function CartDrawer({ onCheckout }) {\r\n  const { items, removeItem, updateQuantity, total, subtotal, tax } = useCart();\r\n  const router = useRouter();\r\n\r\n  return (\r\n    <View style={styles.container}>\r\n      {items.length === 0 ? (\r\n        <Text style={styles.emptyText}>Votre panier est vide</Text>\r\n      ) : (\r\n        <>\r\n          <ScrollView style={styles.scrollArea} contentContainerStyle={{ paddingBottom: 150 }}>\r\n            {items.map((item) => (\r\n              <View key={item.id} style={styles.itemContainer}>\r\n                <View style={styles.itemInfo}>\r\n                  <Text style={styles.itemTitle} numberOfLines={1}>\r\n                    {item.title}\r\n                  </Text>\r\n                  <Text style={styles.itemPrice}>{item.price} €</Text>\r\n                </View>\r\n\r\n                <View style={styles.actions}>\r\n                  <TouchableOpacity\r\n                    style={styles.iconButton}\r\n                    onPress={() => updateQuantity(item.id, item.quantity - 1)}\r\n                  >\r\n                    <Feather name=\"minus\" size={16} />\r\n                  </TouchableOpacity>\r\n                  <Text style={styles.quantity}>{item.quantity}</Text>\r\n                  <TouchableOpacity\r\n                    style={styles.iconButton}\r\n                    onPress={() => updateQuantity(item.id, item.quantity + 1)}\r\n                  >\r\n                    <Feather name=\"plus\" size={16} />\r\n                  </TouchableOpacity>\r\n                  <TouchableOpacity\r\n                    style={[styles.iconButton, { backgroundColor: \"#fee2e2\" }]}\r\n                    onPress={() => removeItem(item.id)}\r\n                  >\r\n                    <Feather name=\"trash\" size={16} color=\"#dc2626\" />\r\n                  </TouchableOpacity>\r\n                </View>\r\n              </View>\r\n            ))}\r\n          </ScrollView>\r\n\r\n          <View style={styles.bottomBar}>\r\n            <View style={styles.row}>\r\n              <Text>Sous-total</Text>\r\n              <Text>{subtotal.toFixed(2)} €</Text>\r\n            </View>\r\n            <View style={styles.row}>\r\n              <Text>TVA (20%)</Text>\r\n              <Text>{tax.toFixed(2)} €</Text>\r\n            </View>\r\n            <View style={[styles.row, styles.totalRow]}>\r\n              <Text style={{ fontWeight: \"bold\" }}>Total</Text>\r\n              <Text style={{ fontWeight: \"bold\" }}>{total.toFixed(2)} €</Text>\r\n            </View>\r\n\r\n            <TouchableOpacity\r\n              style={styles.checkoutButton}\r\n              onPress={() => {\r\n                onCheckout && onCheckout();\r\n                router.push(\"/checkout\");\r\n              }}\r\n            >\r\n              <Text style={styles.checkoutText}>Passer la commande</Text>\r\n            </TouchableOpacity>\r\n          </View>\r\n        </>\r\n      )}\r\n    </View>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n  },\r\n  emptyText: {\r\n    textAlign: \"center\",\r\n    color: \"#6b7280\",\r\n    marginTop: 24,\r\n    fontSize: 14,\r\n  },\r\n  scrollArea: {\r\n    paddingHorizontal: 12,\r\n  },\r\n  itemContainer: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    borderBottomWidth: 1,\r\n    borderColor: \"#e5e7eb\",\r\n    paddingVertical: 12,\r\n  },\r\n  itemInfo: {\r\n    flex: 1,\r\n    minWidth: 120,\r\n    marginRight: 8,\r\n  },\r\n  itemTitle: {\r\n    fontWeight: \"500\",\r\n    marginBottom: 4,\r\n  },\r\n  itemPrice: {\r\n    fontSize: 12,\r\n    color: \"#6b7280\",\r\n  },\r\n  actions: {\r\n    flexDirection: \"row\",\r\n    alignItems: \"center\",\r\n  },\r\n  iconButton: {\r\n    padding: 6,\r\n    borderWidth: 1,\r\n    borderColor: \"#d1d5db\",\r\n    borderRadius: 4,\r\n    marginHorizontal: 2,\r\n  },\r\n  quantity: {\r\n    width: 24,\r\n    textAlign: \"center\",\r\n  },\r\n  bottomBar: {\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    left: 0,\r\n    right: 0,\r\n    backgroundColor: \"#fff\",\r\n    padding: 16,\r\n    borderTopWidth: 1,\r\n    borderColor: \"#e5e7eb\",\r\n  },\r\n  row: {\r\n    flexDirection: \"row\",\r\n    justifyContent: \"space-between\",\r\n    marginBottom: 6,\r\n  },\r\n  totalRow: {\r\n    borderTopWidth: 1,\r\n    borderColor: \"#e5e7eb\",\r\n    paddingTop: 6,\r\n    marginTop: 6,\r\n  },\r\n  checkoutButton: {\r\n    backgroundColor: \"#5cb9bc\",\r\n    paddingVertical: 12,\r\n    borderRadius: 6,\r\n    marginTop: 12,\r\n    alignItems: \"center\",\r\n  },\r\n  checkoutText: {\r\n    color: \"#fff\",\r\n    fontWeight: \"bold\",\r\n  },\r\n});\r\n"
        }
    ]
}